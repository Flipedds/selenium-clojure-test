plugins {
  id 'dev.clojurephant.clojure' version '0.8.0-beta.7'
  id 'application'
  id 'com.github.johnrengelman.shadow' version '7.1.2'
}

group = 'com.flipedds'
version = '0.1.0-SNAPSHOT'

mainClassName = 'com.flipedds.myapp'

repositories {
  mavenCentral()
  maven {
    name = 'clojars'
    url = 'https://repo.clojars.org'
  }
}

dependencies {
  implementation 'org.clojure:clojure:1.11.1'
  implementation 'org.seleniumhq.selenium:selenium-java:4.23.0'
  implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.23.0'
  implementation 'org.seleniumhq.selenium:selenium-support:4.23.0'
  testRuntimeOnly 'org.ajoberstar:jovial:0.3.0'
  devImplementation 'org.clojure:tools.namespace:1.3.0'
}

tasks.withType(Test) {
  useJUnitPlatform()
}

clojure {
  builds {
    main {
      aotAll()
    }
  }
}
